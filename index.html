<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>zonghua's home server dashboard</title>
    <link rel="stylesheet" href="./styles/style.css" />
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon" />
  </head>
  <body
    class="
      bg-gray-50
      dark:bg-gray-800
      xl:h-screen
      w-screen
      flex
      flex-col
      items-center
      xl:flex-col
    "
  >
    <div class="
          head
          bg-white
          dark:bg-gray-700
          w-screen
          text-black
          dark:text-white
          flex
          justify-center
          "
      >
      <div class="head__container max-w-screen-xl w-full py-3.5 h-24 flex">
        <div class="head__logo flex flex-none items-center">
          <a href="#">
            <img class="p-3 h-20 w-20 rounded-full" src="https://github.zouzonghua.cn/home/favicon.ico" alt="logo">
          </a>
        </div>
        <div class="head__title  flex flex-1 text-3xl items-center">
          <h1>zonghua's home server dashboard</h1>
        </div>
      </div>

    </div>

    <ul id="navList" class="container max-w-screen-xl p-2 xl:p-0 xl:mt-6 flex flex-wrap"></ul>
  </body>
  <script src="./js/lib/art-template/index.js"></script>
  <script id="tpl-nav-list" type="text/html">
    {{each list item i}}
    <li class="p-2 xl:p-4 w-1/2 xl:w-1/4">
      <a
        class="
          shadow-lg
          text-black
          dark:text-white
          bg-white
          dark:bg-gray-700
          rounded-lg
          flex
          items-center
          p-4
          transition
          duration-500
          ease-in-out
          transform
          hover:-translate-y-1
          hover:scale-105
        "
        target="_blank"
        href="{{item.href}}"
      >
        <img src="{{item.icon}}" alt="" class="w-8 h-8 xl:w-12 xl:h-12 mr-2 xl:mr-4" />
        <p class="text-xs xl:text-2xl truncate">{{item.title}}</p>
      </a>
    </li>
    {{/each}}
  </script>
  <script>
    function fetchData(url = 'data/nav.json', method = 'get', callback) {
      var xhr = new XMLHttpRequest();
      xhr.onreadystatechange = function () {
        if (xhr.readyState == 4) {
          if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304) {
            callback(JSON.parse(xhr.responseText));
          }
        }
      };
      xhr.open(method, url, true);
      xhr.send();
    }

    fetchData('data/nav.json', 'get', function (res) {
      var navListHtml = template('tpl-nav-list', res);
      document.getElementById('navList').innerHTML = navListHtml;
    });
  </script>
</html>
